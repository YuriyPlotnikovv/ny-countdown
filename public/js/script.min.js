"use strict";

document.addEventListener("DOMContentLoaded", function () {
  const e = new Date("January 1, 2026 00:00:00").getTime(),
    t = 864e5,
    n = 36e5,
    o = ["день", "дня", "дней"],
    a = ["час", "часа", "часов"],
    c = ["минута", "минуты", "минут"],
    d = ["секунда", "секунды", "секунд"];
  let r;
  const s = document.querySelector(".new-year-countdown");
  function i() {
    const i = Date.now(),
      w = e - i;
    if (w <= 0) s.style.display = "none", clearInterval(r);else {
      const e = Math.floor(w / t),
        r = Math.floor(w % t / n),
        s = Math.floor(w % n / 6e4),
        i = Math.floor(w % 6e4 / 1e3);
      u("daysRing", "daysText", e, 45, l(e, o)), u("hoursRing", "hoursText", r, 24, l(r, a)), u("minutesRing", "minutesText", s, 60, l(s, c)), u("secondsRing", "secondsText", i, 60, l(i, d));
    }
  }
  function l(e, t) {
    if (e % 100 >= 11 && e % 100 <= 19) return t[2];
    switch (e % 10) {
      case 1:
        return t[0];
      case 2:
      case 3:
      case 4:
        return t[1];
      default:
        return t[2];
    }
  }
  function u(e, t, n, o, a) {
    const c = document.querySelector(`#${e}`).querySelector(".new-year-countdown__progress-ring-circle--front");
    if (c) {
      const e = c.r.baseVal.value,
        d = 2 * Math.PI * e,
        r = d - n / o * d,
        s = document.getElementById(t).querySelector(".new-year-countdown__progress-value-digit"),
        i = document.getElementById(t).querySelector(".new-year-countdown__progress-value-text");
      c.style.strokeDasharray = `${d} ${d}`, c.style.strokeDashoffset = r, s.innerHTML = n.toString(), i.innerHTML = a;
    }
  }
  function w() {
    const e = document.body.scrollHeight,
      t = window.innerHeight;
    y.style.display = t < e ? "block" : "none";
  }
  s && (r = setInterval(i, 1e3), i());
  const y = document.querySelector(".new-year-countdown__scroll-button");
  y && (window.addEventListener("load", w), window.addEventListener("resize", w), y.addEventListener("click", function () {
    window.scrollTo({
      top: document.body.scrollHeight,
      behavior: "smooth"
    });
  }));
  const m = document.querySelector(".new-year-countdown__audio");
  if (m) {
    const e = document.querySelector(".new-year-countdown__audio-button");
    m.volume = .3, e.addEventListener("click", function () {
      const t = e.querySelector(".new-year-countdown__scroll-icon");
      m.muted = !m.muted, "false" === t.dataset.isPaused ? (m.pause(), t.src = t.dataset.originalSrc, t.dataset.isPaused = "true") : (m.play(), t.dataset.originalSrc = t.src, t.src = "/public/assets/icons/audio-icon.gif", t.dataset.isPaused = "false");
    });
  }
  const f = document.createElement("div");
  f.classList.add("new-year-countdown__month-container");
  const _ = document.createElement("div");
  _.classList.add("new-year-countdown__calendar"), s.appendChild(f), s.appendChild(_);
  const g = new Date(),
    h = g.getFullYear(),
    p = g.getMonth(),
    v = g.getDate(),
    E = new Date(h, p + 1, 0).getDate(),
    L = (new Date(h, p, 1).getDay() + 6) % 7,
    S = document.createElement("div");
  S.classList.add("new-year-countdown__calendar-month"), S.textContent = `${["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"][p]} ${h}`, f.appendChild(S), ["Пн", "Вт", "Ср", "Чт", "Пт", "Сб", "Вс"].forEach(function (e) {
    const t = document.createElement("div");
    t.classList.add("new-year-countdown__calendar-weekday"), t.textContent = e, _.appendChild(t);
  });
  for (let e = 0; e < L; e++) {
    const e = document.createElement("div");
    _.appendChild(e);
  }
  for (let e = 1; e <= E; e++) {
    const t = document.createElement("div");
    t.classList.add("new-year-countdown__calendar-day"), t.textContent = e.toString(), e < v && t.classList.add("new-year-countdown__calendar-past"), _.appendChild(t);
  }
});
//# sourceMappingURL=script.min.js.map
