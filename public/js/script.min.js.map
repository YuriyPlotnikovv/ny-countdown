{"version":3,"sources":["script.js"],"names":["document","addEventListener","targetTime","Date","getTime","MS_IN_DAY","MS_IN_HOUR","DAY_FORMS","HOUR_FORMS","MINUTE_FORMS","SECOND_FORMS","countdownInterval","countdownElement","querySelector","updateCountdown","now","timeRemaining","style","display","clearInterval","days","Math","floor","hours","minutes","seconds","updateRing","getPluralForm","number","forms","ringId","textId","value","maxValue","pluralText","circle","radius","r","baseVal","circumference","PI","offset","digitElement","getElementById","textElement","strokeDasharray","strokeDashoffset","innerHTML","toString","toggleScrollButton","bodyHeight","body","scrollHeight","windowHeight","window","innerHeight","scrollButton","setInterval","scrollTo","top","behavior","audioElement","audioButton","volume","icon","muted","dataset","isPaused","pause","src","originalSrc","play","monthContainer","createElement","classList","add","calendarElement","appendChild","currentDate","currentYear","getFullYear","currentMonth","getMonth","currentDay","getDate","daysInMonth","firstDayOfWeek","getDay","monthElement","textContent","forEach","weekday","weekdayElement","i","emptyDayElement","day","dayElement"],"mappings":"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","file":"script.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  const circleSelector = \".new-year-countdown__progress-ring-circle--front\";\r\n  const digitSelector = \".new-year-countdown__progress-value-digit\";\r\n  const textSelector = \".new-year-countdown__progress-value-text\";\r\n  const targetTime = new Date(\"January 1, 2026 00:00:00\").getTime();\r\n  const weekdays = [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"];\r\n  const months = [\r\n    \"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\",\r\n    \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"\r\n  ];\r\n\r\n  const MS_IN_DAY = 86400000;\r\n  const MS_IN_HOUR = 3600000;\r\n  const MS_IN_MINUTE = 60000;\r\n  const MS_IN_SECOND = 1000;\r\n\r\n  const DAY_FORMS = [\"день\", \"дня\", \"дней\"];\r\n  const HOUR_FORMS = [\"час\", \"часа\", \"часов\"];\r\n  const MINUTE_FORMS = [\"минута\", \"минуты\", \"минут\"];\r\n  const SECOND_FORMS = [\"секунда\", \"секунды\", \"секунд\"];\r\n\r\n  let countdownInterval;\r\n  const countdownElement = document.querySelector(\".new-year-countdown\");\r\n\r\n  function updateCountdown() {\r\n    const now = Date.now();\r\n    const timeRemaining = targetTime - now;\r\n\r\n    if (timeRemaining <= 0) {\r\n      countdownElement.style.display = \"none\";\r\n      clearInterval(countdownInterval);\r\n    } else {\r\n      const days = Math.floor(timeRemaining / MS_IN_DAY);\r\n      const hours = Math.floor((timeRemaining % MS_IN_DAY) / MS_IN_HOUR);\r\n      const minutes = Math.floor((timeRemaining % MS_IN_HOUR) / MS_IN_MINUTE);\r\n      const seconds = Math.floor((timeRemaining % MS_IN_MINUTE) / MS_IN_SECOND);\r\n\r\n      updateRing(\"daysRing\", \"daysText\", days, 45, getPluralForm(days, DAY_FORMS));\r\n      updateRing(\"hoursRing\", \"hoursText\", hours, 24, getPluralForm(hours, HOUR_FORMS));\r\n      updateRing(\"minutesRing\", \"minutesText\", minutes, 60, getPluralForm(minutes, MINUTE_FORMS));\r\n      updateRing(\"secondsRing\", \"secondsText\", seconds, 60, getPluralForm(seconds, SECOND_FORMS));\r\n    }\r\n  }\r\n\r\n  function getPluralForm(number, forms) {\r\n    if (number % 100 >= 11 && number % 100 <= 19) {\r\n      return forms[2];\r\n    }\r\n\r\n    const lastDigit = number % 10;\r\n    switch (lastDigit) {\r\n      case 1:\r\n        return forms[0];\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n        return forms[1];\r\n      default:\r\n        return forms[2];\r\n    }\r\n  }\r\n\r\n  function updateRing(ringId, textId, value, maxValue, pluralText) {\r\n    const circle = document.querySelector(`#${ringId}`).querySelector(circleSelector);\r\n    if (circle) {\r\n      const radius = circle.r.baseVal.value;\r\n      const circumference = 2 * Math.PI * radius;\r\n      const offset = circumference - (value / maxValue) * circumference;\r\n\r\n      const digitElement = document.getElementById(textId).querySelector(digitSelector);\r\n      const textElement = document.getElementById(textId).querySelector(textSelector);\r\n\r\n      circle.style.strokeDasharray = `${circumference} ${circumference}`;\r\n      circle.style.strokeDashoffset = offset;\r\n      digitElement.innerHTML = value.toString();\r\n      textElement.innerHTML = pluralText;\r\n    }\r\n  }\r\n\r\n  function toggleScrollButton() {\r\n    const bodyHeight = document.body.scrollHeight;\r\n    const windowHeight = window.innerHeight;\r\n    scrollButton.style.display = windowHeight < bodyHeight ? \"block\" : \"none\";\r\n  }\r\n\r\n  if (countdownElement) {\r\n    countdownInterval = setInterval(updateCountdown, 1000);\r\n    updateCountdown();\r\n  }\r\n\r\n  const scrollButton = document.querySelector(\".new-year-countdown__scroll-button\");\r\n  if (scrollButton) {\r\n    window.addEventListener(\"load\", toggleScrollButton);\r\n    window.addEventListener(\"resize\", toggleScrollButton);\r\n    scrollButton.addEventListener(\"click\", function () {\r\n      window.scrollTo({top: document.body.scrollHeight, behavior: \"smooth\"});\r\n    });\r\n  }\r\n\r\n  const audioElement = document.querySelector(\".new-year-countdown__audio\");\r\n  if (audioElement) {\r\n    const audioButton = document.querySelector(\".new-year-countdown__audio-button\");\r\n    audioElement.volume = 0.3;\r\n\r\n    audioButton.addEventListener(\"click\", function () {\r\n      const icon = audioButton.querySelector(\".new-year-countdown__scroll-icon\");\r\n      audioElement.muted = !audioElement.muted;\r\n\r\n      if (icon.dataset.isPaused === \"false\") {\r\n        audioElement.pause();\r\n        icon.src = icon.dataset.originalSrc;\r\n        icon.dataset.isPaused = \"true\";\r\n      } else {\r\n        audioElement.play();\r\n        icon.dataset.originalSrc = icon.src;\r\n        icon.src = \"/public/assets/icons/audio-icon.gif\";\r\n        icon.dataset.isPaused = \"false\";\r\n      }\r\n    });\r\n  }\r\n\r\n  // Создаем отдельный элемент для названия месяца\r\n  const monthContainer = document.createElement(\"div\");\r\n  monthContainer.classList.add(\"new-year-countdown__month-container\");\r\n\r\n  // Создаем элемент календаря\r\n  const calendarElement = document.createElement(\"div\");\r\n  calendarElement.classList.add(\"new-year-countdown__calendar\");\r\n\r\n  countdownElement.appendChild(monthContainer);\r\n  countdownElement.appendChild(calendarElement);\r\n\r\n  const currentDate = new Date();\r\n  const currentYear = currentDate.getFullYear();\r\n  const currentMonth = currentDate.getMonth();\r\n  const currentDay = currentDate.getDate();\r\n  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\r\n  const firstDayOfWeek = (new Date(currentYear, currentMonth, 1).getDay() + 6) % 7;\r\n\r\n  const monthElement = document.createElement(\"div\");\r\n  monthElement.classList.add(\"new-year-countdown__calendar-month\");\r\n  monthElement.textContent = `${months[currentMonth]} ${currentYear}`;\r\n  monthContainer.appendChild(monthElement);\r\n\r\n  weekdays.forEach(function (weekday) {\r\n    const weekdayElement = document.createElement(\"div\");\r\n    weekdayElement.classList.add(\"new-year-countdown__calendar-weekday\");\r\n    weekdayElement.textContent = weekday;\r\n    calendarElement.appendChild(weekdayElement);\r\n  });\r\n\r\n  for (let i = 0; i < firstDayOfWeek; i++) {\r\n    const emptyDayElement = document.createElement(\"div\");\r\n    calendarElement.appendChild(emptyDayElement);\r\n  }\r\n\r\n  for (let day = 1; day <= daysInMonth; day++) {\r\n    const dayElement = document.createElement(\"div\");\r\n    dayElement.classList.add(\"new-year-countdown__calendar-day\");\r\n    dayElement.textContent = day.toString();\r\n    if (day < currentDay) {\r\n      dayElement.classList.add(\"new-year-countdown__calendar-past\");\r\n    }\r\n    calendarElement.appendChild(dayElement);\r\n  }\r\n});\r\n"]}